@using Sfa.Eds.Das.Web.Extensions
@model Sfa.Eds.Das.Web.ViewModels.StandardViewModel

@{
    ViewBag.Title = "Standard - " + @Model.Title;
}

<main id="content" role="main">

    <p class="small-btm-margin">
        @Html.RenderAIfExists(@Model.SearchResultLink?.Title, @Model.SearchResultLink?.Url, "link-back")
    </p>

    <div class="grid-row">
        <div class="column-two-thirds">
            <div class="hgroup">
                <h1 class="heading-xlarge">
                    @Model.Title
                </h1>
                <div class="standard-result-summary">
                    <dl>
                        @GetStandardDetailItem("Minimum length", @Model.MinimumLength, "years")
                        @GetStandardDetailItem("Entry Level", @Model.NotionalEndLevel.ToString())
                        @GetStandardDetailItem("End Level", @Model.NotionalEndLevel.ToString())
                    </dl>

                </div>
            </div>

            <section>
                <div class="panel-indent panel-indent-info">
                    <ul>
                        <li>
                            <a href="@Model.PdfUrl">
                                Download full details (PDF, 268KB)
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                Download assessment plan (PDF, 183KB) [NYI]
                            </a>
                        </li>
                    </ul>
                </div>

            </section>
        </div>
        <div class="column-third">
            @using (Html.BeginForm("SearchResults", "Provider", FormMethod.Get, new { @class = "search-box" }))
            {
                <div class="related-container">
                    <aside class="related">

                        <h2 class="heading-medium">Find training providers</h2>
                        <form action="/g-cloud/search" method="get" class="search-box">
                            <div class="form-group">
                                <label class="form-label" for="q">
                                    Postcode (optional)
                                    <span class="form-hint">
                                        See all training providers in a given location.
                                    </span>
                                </label>
                                <input type="hidden" id="standardid" name="standardid" class="text-box form-control" value="@Model.StandardId">
                                <input type="search" id="postcode" name="PostCode" class="text-box form-control" maxlength="200" style="width: 100%;" placeholder="">
                            </div>
                            <input class="button margin-top-x2" id="submit-keywords" type="submit" value="Search" />
                        </form>

                    </aside>
                </div>
            }

        </div>
    </div>

</main>


@helper GetStandardDetailItem(string title, string item, string unit = "")
{
if (!string.IsNullOrEmpty(item))
{
        <dt class="minLength">@title</dt>
        <dd class="minLength">@item @unit</dd>
}
}
